<apex:page controller="AuthController" action="{!completeAuthorization}" standardStylesheets="false" sidebar="false" showHeader="false" >

    <apex:includeScript value="{!URLFOR($Resource.jQuery)}"/>
    <apex:stylesheet value="{!URLFOR($Resource.bootstrap, 'bootstrap-3.2.0-dist/css/bootstrap.min.css')}"/>    
    <apex:stylesheet value="{!URLFOR($Resource.fontawesome)}"/>
    <apex:includeScript value="{!URLFOR($Resource.bootstrap, 'bootstrap-3.2.0-dist/js/bootstrap.min.js')}"/>

    <div class="row"><div class="col-sm-10 col-sm-offset-1">
    <div class="alert alert-{! IF (authSuccess, 'success', 'danger' ) }" role="alert">
        <div class="row"><div class="col-sm-10 col-sm-offset-1">
        <h3>
            <span class="glyphicon glyphicon-{! IF (authSuccess, 'ok', 'warning-sign' ) }"><span>
            <apex:outputText rendered="{!authSuccess}" value="Fitbit Authorization Successful. Completing Authorization ..."/>
            <apex:outputText rendered="{! NOT(authSuccess)}" value="Oops ... something went wrong.  Not Authorized: {!message}"/>
        </h3>
        </div></div>
    </div>
    <apex:outputLink value="{! $Page.timeline}">Go to Daily Winners</apex:outputLink>
    </div></div>
    
    <script type="text/javascript">
        window.setTimeout(function() {window.location = '/one/one.app';}, 3000);
    </script>
</apex:page>